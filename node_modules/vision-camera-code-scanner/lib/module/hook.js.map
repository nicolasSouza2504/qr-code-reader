{"version":3,"sources":["hook.tsx"],"names":["useFrameProcessor","useState","runOnJS","scanBarcodes","useScanBarcodes","types","options","barcodes","setBarcodes","frameProcessor","frame","detectedBarcodes"],"mappings":"AAAA,SAAgBA,iBAAhB,QAAyC,4BAAzC;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,OAAT,QAAwB,yBAAxB;AAEA,SAAqDC,YAArD,QAAyE,GAAzE;AAEA,OAAO,SAASC,eAAT,CACLC,KADK,EAELC,OAFK,EAGgC;AACrC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAY,EAAZ,CAAxC;AAEA,QAAMQ,cAAc,GAAGT,iBAAiB,CAAEU,KAAD,IAAW;AAClD;;AACA,UAAMC,gBAAgB,GAAGR,YAAY,CAACO,KAAD,EAAQL,KAAR,EAAeC,OAAf,CAArC;AACAJ,IAAAA,OAAO,CAACM,WAAD,CAAP,CAAqBG,gBAArB;AACD,GAJuC,EAIrC,EAJqC,CAAxC;AAMA,SAAO,CAACF,cAAD,EAAiBF,QAAjB,CAAP;AACD","sourcesContent":["import { Frame, useFrameProcessor } from 'react-native-vision-camera';\nimport { useState } from 'react';\nimport { runOnJS } from 'react-native-reanimated';\n\nimport { Barcode, BarcodeFormat, CodeScannerOptions, scanBarcodes } from '.';\n\nexport function useScanBarcodes(\n  types: BarcodeFormat[],\n  options?: CodeScannerOptions\n): [(frame: Frame) => void, Barcode[]] {\n  const [barcodes, setBarcodes] = useState<Barcode[]>([]);\n\n  const frameProcessor = useFrameProcessor((frame) => {\n    'worklet';\n    const detectedBarcodes = scanBarcodes(frame, types, options);\n    runOnJS(setBarcodes)(detectedBarcodes);\n  }, []);\n\n  return [frameProcessor, barcodes];\n}\n"]}